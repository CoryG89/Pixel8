<!doctype html>
<html>
  <head>
    <title>PixelCam</title>
    <script type="text/javascript" src="CamMan.js"></script>
    <script type="text/javascript" src="Pixel8.js"></script>

    <style>
      #starry-night {
        max-width: 800px;
      }
    </style>
  </head>
  <body style="text-align:center;">
    <div id="cam-container"><h2>Pixel Cam</h2></div>
    <div id="image-container">
      <h2>Van Gogh's Starry Night</h2>
      <img id="starry-night" src="img/starry_night.jpg"/>
    </div>
    <script type="text/javascript">
      var camMan = new CamMan();

      camMan.on('start', function () {
        camMan.getCanvas('cam-container', function (canvas) {
          Pixel8(canvas, { resolution: 6, size: 4 });
        });
      });

      camMan.start();

      var starryNight = document.getElementById('starry-night');

      var renderPasses = [
        { shape: 'circle', resolution: 24 },
        { shape: 'circle', resolution: 24, size: 9, offset: 12 }
      ];

      starryNight.onload = function () {
        Pixel8(starryNight, renderPasses);
      };
    </script>
  </body>
</html>